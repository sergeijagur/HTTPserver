<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSON MESSAGE</title>
</head>
<body>

<input type="text" name="firstN"  id="firstN">
<lab for="firstN">First name</lab>
<br>
<br>
<input type="text" name="lastN"  id="lastN">
<lab for="lastN">Last name</lab>
<br>
<br>
<input type="date" name="birthD"  id="birthD">
<lab for="birthD">Birthday</lab>
<br>
<br>
<button type="submit" id="submit" onclick="post()">SEND</button>
<!--        <button type="submit" id="submit" onclick="handlesubmit()">SEND</button>-->
<br>
</body>
</html>

<script>

    function post() {
        const xhr = new XMLHttpRequest();
        const url = "http://localhost:8080/datain.html";
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                document.write(this.responseText);
            }
        };
        const firstName = document.getElementById('firstN').value;
        const lastName = document.getElementById('lastN').value;
        const birthday = document.getElementById('birthD').value;
        const data = JSON.stringify({"firstName": firstName, "lastName": lastName, "birthDay": birthday});
        xhr.send(data);


    }


    // function handleSubmit(event) {
    //     event.preventDefault();
    //     const data = new FormData(event.target);
    //     const value = Object.fromEntries(data.entries());
    //     const value = data.get('firstN');
    //     console.log({ value });
    // }
    // const form = document.querySelector('form');
    // form.addEventListener('submit', handleSubmit);

</script>

