<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <form method="POST" action="" >
        <br>
        <br>
        <input type="text" name="firstN"  id="firstN">
        <lab for="firstN">First name</lab>
        <br>
        <br>
        <input type="text" name="lastN"  id="lastN">
        <lab for="lastN">Last name</lab>
        <br>
        <br>
        <input type="date" name="birthD"  id="birthD">
        <lab for="birthD">Birthday</lab>
        <br>
        <br>
        <button type="submit" id="submit" onclick="post()">SEND</button>
<!--        <button type="submit" id="submit" onclick="handlesubmit()">SEND</button>-->
        <br>
    </form>
</head>
<body>

</body>

</html>


<script>


    function post() {
        console.log(document.getElementById('firstN'))
        var xhr = new XMLHttpRequest();
        var url = "http://localhost:8080/datain";
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                var json = JSON.parse(xhr.responseText);
                console.log(json.email + ", " + json.password);
            }
        };
        var firstName = document.getElementById('firstN').value;
        var lastName = document.getElementById('lastN').value;
        var birthday = document.getElementById('birthD').value;
        var data = JSON.stringify({"firstName" : firstName, "lastName" : lastName , "birthDay" : birthday });
        xhr.send(data);
    }


    // function handleSubmit(event) {
    //     event.preventDefault();
    //     const data = new FormData(event.target);
    //     const value = Object.fromEntries(data.entries());
    //     const value = data.get('firstN');
    //     console.log({ value });
    // }
    // const form = document.querySelector('form');
    // form.addEventListener('submit', handleSubmit);

</script>

